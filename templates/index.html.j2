{% extends 'base.html.j2' %}
{% load static %}

{% block stylesheet %}
    <link rel="stylesheet" type="text/css" href="{% static 'lib/magnific-popup/css/magnific-popup.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'lib/magnific-popup/css/magnific-util.min.css' %}" />
{% endblock %}

{% block content %}
<div class="container">
<!-- start container -->
    <div class="page-header">
      <h1>Welcomen to <span class="text-danger">REPT</span>OPIA.</h1>
    </div>
    <!-- 주간 TOP 3 이미지 -->
    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
            <li data-target="#carousel-example-generic" data-slide-to="1"></li>
            <li data-target="#carousel-example-generic" data-slide-to="2"></li>
        </ol>

        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img data-src="holder.js/1140x500/auto/#777:#555/text:First slide" alt="First slide">
            </div>
            <div class="item">
                <img data-src="holder.js/1140x500/auto/#666:#444/text:Second slide" alt="Second slide">
            </div>
            <div class="item">
                <img data-src="holder.js/1140x500/auto/#555:#333/text:Third slide" alt="Third slide">
            </div>
        </div>
        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <hr/>
    <div class="row">
        <div class="col-sm-4">
            <h2>등록된 사육자</h2>
            <p class="text-danger">As of v8.0, Safari exhibits a bug in which resizing your browser horizontally causes rendering errors in the justified nav that are cleared upon refreshing.</p>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn btn-primary" href="#" role="button">View details &raquo;</a></p>
        </div>
        <div class="col-sm-4">
            <h2>등록된 개체</h2>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn btn-primary" href="#" role="button">View details &raquo;</a></p>
        </div>
        <div class="col-sm-4">
            <h2>등록된 사육일지</h2>
            <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa.</p>
            <p><a class="btn btn-primary" href="#" role="button">View details &raquo;</a></p>
        </div>
    </div>
<!-- end container -->
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="notice_modal">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">{{ notice.title }}</h4> {{ notice.pub_date}} by {{ notice.author.name}}.
            </div>
            <div class="modal-body">
                <p>{{ notice.content | safe }}</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-warning" id="do_not_open">그만열기</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script_content %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.9.6/holder.js"></script>
    <script src="{% static 'lib/magnific-popup/jquery.magnific-popup.js' %}"></script>
    <script src="{% static 'js/cookie_util.js' %}"></script>
    <script>
        $(document).ready(function() {
            // 저장된 쿠키값을 가져와서 ID 칸에 넣어준다. 없으면 공백으로 들어감.
            var key = getCookie("notice_cookie");

            $("#do_not_open").click(function(){ // 체크박스에 변화가 있다면,
                setCookie("notice_cookie", 'do_not_open', 7);
                $('#notice_modal').modal('toggle')
            });

            {% if notice %}
                if (key != 'do_not_open') {
                    $('#notice_modal').modal('toggle')
                }
            {% endif %}
        });
    </script>
{% endblock %}
